# Equation Creator
Позволяет генерировать случайные задания по шаблону.

## Поддерживает следующие объекты:
- Переменная
- Диапазон вещественных чисел с шагом (делителем)
- Диапазон целых чисел
- Список элементов

## Диапазон вещественных чисел с шагом (делителем)
**Описание:**

Режим шага: (через `|`)

- Генерирует случайное вещественное числа от `x` до `y` с шагом `s`, то есть к `x` прибавляется случайное число шагов 
  `s`, но так, чтобы полученное число лежало в диапазоне от `x` до `y`
- Синтаксис: `[x..y|s]`
- Пример: `[1..1.5|0.11]` может выдать: 1, 1.11, 1.22, 1.33, 1.44

Режим делителя: (через `|:`)

- Генерирует случайное вещественное число от `x` до `y`, нацело делящееся на `d`. При этом `d` может быть и не целым 
- Синтаксис: `[x..y|:d]`
- Пример: `[1..1.5|:0.11]` может выдать: 1.1, 1.21, 1.32, 1.43

## Диапазон целых чисел
**Описание:**

- Упрощенная версия предыдущего, не требует третьего аргумента и поддерживает только целые числа.
- Генерирует целые числа от `x` до `y`
- Синтаксис: `[x..y]`
- Пример: `[1..5]` может выдать: 1, 2, 3, 4, 5

## Список
**Описание:**

- Возвращает случайный объект из перечисленных в нем. Вероятности возвращения каждого объекта одинаковы и равны 
  `1/кол-во объектов`
- Объектом могут быть не только последовательности символов, но и элементы синтаксиса: диапазоны любого вида, 
  переменные и даже такие же списки
- Синтаксис: `{obj1|obj2|obj3}` Разделитель: `|`
- Пример: `{123|abc|[1..10]}` выдаст либо `123`, либо `abc`, либо случайное число от 1 до 10

## Арифметика

Часто требуется, например, генерировать числа в границах, определенных записанными в переменные другими числами

**Для использования знаков арифметических действий** `+` `-` `*` `/` `^` использовать префикс `$` (доллар)

**Скобки не требуют префикса**

**Между операндами, действиями и скобками не должно быть пробелов**

Пример: `2$+3` выдаст `5`

Пример: `[1..10]$+[1..20]` сложит 2 случайных числа: от 1 до 10 и от 1 до 20

## Переменная
**Описание:** 

Позволяет запомнить значение любого объекта (сделано вообще для случайных объектов, но можно 
использовать для любых) для дальнейшего использования в шаблоне.

#### Объявление

Имя может состоять **только** из латинских букв, заглавных и строчных

Синтаксис объявления: `имяпеременной=<значение переменной>`, например: `a=<[1..20]>` или `sign=<{+|-|*|/}>`

  **ВАЖНО:** ОБЪЯВЛЕНИЕ ПЕРЕМЕННОЙ ЯВЛЯЕТСЯ ЕЕ МОМЕНТАЛЬНЫМ ИСПОЛЬЗОВАНИЕМ, ТО ЕСТЬ НА МЕСТО ОБЪЯВЛЕНИЯ ТАКЖЕ 
  ПОДСТАВЛЯЕТСЯ ЕЕ ЗНАЧЕНИЕ

Значением переменной могут быть любые комбинации любых объектов, в том числе и другие переменные: `a=<using another 
variable: <b>>` при условии что они (здесь `b`) объявлены. Если `b` = `12345` то `a` = `using another
variable: 12345`

#### Использование

Синтаксис использования: Как уже было видно в примере, синтаксис: `<имяпеременной>`

Вместо `<имяпеременной>` подставляется значение этой переменной

Если переменная является арифметическим знаком `+` `-` `*` `/`, можно получить обратный знак: `<!имяпеременной>`

Пример: если `sign=<+>` то `5$<!sign>1` выдаст `4`

*Для не-знака это никак не повлияет на значение переменной:* если `var=<abc>` то `<!var>` выдаст `abc`

## Порядок парсинга (для справки для продвинутых юзеров)

#### Стадия 1 (переменные)

*Так как объявления переменных могут содержать использования других переменных, то эта стадия зациклена до тех пор, 
пока не останется ни объявлений, ни использований*

1. Объявления переменных. Содержание треугольных `< >` скобок обрабатывается отдельным обработчиком как полноправная 
   строка формата, т.е. внутри нее сразу проходят обе стадии. Это позволяет инициализировать все переменные в 
   самую первую очередь
2. Использования переменных.

#### Стадия 2 (случайные объекты и арифметика)

*Так как объекты разных типов могут быть (так же как и переменные) вложены, эта стадия также зациклена*

1. Вещественные диапазоны
2. Целочисленные диапазоны
3. **Арифметические действия**
4. Списки

## Ввод

- Строка формата
- Количество заданий

## Вывод

- Файл `output.txt`

# Примеры работы: 
В графах "Возможный вывод" приведены только несколько возможных заданий. Сам файл вывода включает в себя еще и 
введенную строку формата

### Простейший пример
#### Ввод

    [1..1000] {+|-} [5000..6000] = 

#### Возможный вывод

    234 - 5678
    495 - 5291

### Текстовая задача
#### Ввод

    У Маши [20..100] яблок, а у Саши на [10..20] {больше|меньше}. {Сколько яблок у них вместе?|Сколько яблок у Саши?}

#### Возможный вывод

    У Маши 73 яблок, а у Саши на 10 больше. Сколько яблок у Саши?
    У Маши 44 яблок, а у Саши на 17 больше. Сколько яблок у них вместе?
    У Маши 29 яблок, а у Саши на 15 меньше. Сколько яблок у Саши?

### Красивое уравнение с целыми положительными решениями (~3 класс)
#### Ввод

    a=<[100..500|:b=<[5..80|:c=<[5..30]>]>]> sign=<{+|-|/|*}> {x|y|z|w|t|h} = (<a>$<sign><b>)$signtwo=<{+|-|*|/}><c> <!signtwo> <c>

#### Возможный вывод

    340 - h = 289 - 17
    424 * w = 27136 / 8
    285 + h = 18 * 19
    450 * y = 22475 + 25